cmake_minimum_required(VERSION 3.0)

PROJECT(citybuilder)

# citybuilder uses C++11 features
if(CMAKE_COMPILER_IS_GNUCXX)
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
endif()


SET(EXECUTABLE_OUTPUT bin/${CMAKE_BUILD_TYPE})

# Add the source files
file(GLOB CITYBUILDER_SRC
		"*.h"
		"*.cpp"
		)

add_executable(citybuilder ${CITYBUILDER_SRC})


set(CMAKE_MODULE_PATH "/usr/local/share/SFML/cmake/Modules" ${CMAKE_MODULE_PATH})
if(SFML_CMAKE_DIR)
	string(REPLACE "FindSFML.cmake" "" SFML_CMAKE_DIR ${SFML_CMAKE_DIR})
	set(CMAKE_MODULE_PATH "${CMAKE_MODULE_PATH}" "${SFML_CMAKE_DIR}")
endif()
FIND_PACKAGE(SFML 2 COMPONENTS system window graphics audio REQUIRED)
INCLUDE_DIRECTORIES(${SFML_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(citybuilder ${SFML_LIBRARIES} ${SFML_DEPENDENCIES})



# Install executable
install(TARGETS citybuilder
		RUNTIME DESTINATION .)

# Install game assets
install(DIRECTORY media/
		DESTINATION media/)

# Install config files
install(FILES city_cfg.dat city_map.dat LICENSE README.md
		DESTINATION .)
